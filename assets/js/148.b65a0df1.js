"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[148],{7958:(e,t,n)=>{var o=n(6540),r=n(6682),i=n(6668);(0,o.memo)((function(e){const t=(0,i.A)((({mapLib:t})=>new t.AttributionControl(e)),{position:e.position});return(0,o.useEffect)((()=>{(0,r.R)(t._container,e.style)}),[e.style]),null}))},8114:(e,t,n)=>{var o=n(6540),r=n(6682),i=n(6668);(0,o.memo)((function(e){const t=(0,i.A)((({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)})),{position:e.position});return(0,o.useEffect)((()=>{(0,r.R)(t._controlContainer,e.style)}),[e.style]),null}))},4960:(e,t,n)=>{var o=n(6540),r=n(6682),i=n(6668);(0,o.memo)((0,o.forwardRef)((function(e,t){const n=(0,o.useRef)({props:e}),s=(0,i.A)((({mapLib:t})=>{const o=new t.GeolocateControl(e),r=o._setupUI;return o._setupUI=e=>{o._container.hasChildNodes()||r(e)},o.on("geolocate",(e=>{var t,o;null===(o=(t=n.current.props).onGeolocate)||void 0===o||o.call(t,e)})),o.on("error",(e=>{var t,o;null===(o=(t=n.current.props).onError)||void 0===o||o.call(t,e)})),o.on("outofmaxbounds",(e=>{var t,o;null===(o=(t=n.current.props).onOutOfMaxBounds)||void 0===o||o.call(t,e)})),o.on("trackuserlocationstart",(e=>{var t,o;null===(o=(t=n.current.props).onTrackUserLocationStart)||void 0===o||o.call(t,e)})),o.on("trackuserlocationend",(e=>{var t,o;null===(o=(t=n.current.props).onTrackUserLocationEnd)||void 0===o||o.call(t,e)})),o}),{position:e.position});return n.current.props=e,(0,o.useImperativeHandle)(t,(()=>s),[]),(0,o.useEffect)((()=>{(0,r.R)(s._container,e.style)}),[e.style]),null})))},7382:(e,t,n)=>{n(6540),n(1313)},1313:(e,t,n)=>{n.d(t,{w:()=>L,A:()=>C});var o=n(6540),r=n(1995),i=n(65);function s(e,t){if(!e.getProjection)return;const n=e.getProjection(),o=t.getProjection();(0,i.b)(n,o)||t.setProjection(n)}function a(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function l(e,t){const n=t.viewState||t;let o=!1;if("zoom"in n){const t=e.zoom;e.zoom=n.zoom,o=o||t!==e.zoom}if("bearing"in n){const t=e.bearing;e.bearing=n.bearing,o=o||t!==e.bearing}if("pitch"in n){const t=e.pitch;e.pitch=n.pitch,o=o||t!==e.pitch}if(n.padding&&!e.isPaddingEqual(n.padding)&&(o=!0,e.padding=n.padding),"longitude"in n&&"latitude"in n){const t=e.center;e.center=new t.constructor(n.longitude,n.latitude),o=o||t!==e.center}return o}const d=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function c(e){if(!e)return null;if("string"==typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const o of e.layers)t[o.id]=o;const n=e.layers.map((e=>{let n=null;"interactive"in e&&(n=Object.assign({},e),delete n.interactive);const o=t[e.ref];if(o){n=n||Object.assign({},e),delete n.ref;for(const e of d)e in o&&(n[e]=o[e])}return n||e}));return{...e,layers:n}}const u={version:8,sources:{},layers:[]},p={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},h={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},m={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},f=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],g=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class v{constructor(e,t,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[m[e.type]];t?t(e):"error"===e.type&&console.error(e.error)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[p[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[h[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const n=this._updateSettings(e,t);n&&this._createShadowTransform(this._map);const o=this._updateSize(e),r=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||o||r&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const n=v.savedMaps.pop();if(!n)return null;const o=n.map,r=o.getContainer();for(t.className=r.className;r.childNodes.length>0;)t.appendChild(r.childNodes[0]);o._container=t;const i=o._resizeObserver;i&&(i.disconnect(),i.observe(t)),n.setProps({...e,styleDiffing:!1}),o.resize();const{initialViewState:s}=e;return s&&(s.bounds?o.fitBounds(s.bounds,{...s.fitBoundsOptions,duration:0}):n._updateViewState(s,!1)),o.isStyleLoaded()?o.fire("load"):o.once("styledata",(()=>o.fire("load"))),o._update(),n}_initialize(e){const{props:t}=this,{mapStyle:n=u}=t,o={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||_()||null,container:e,style:c(n)},r=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[r.longitude||0,r.latitude||0],zoom:r.zoom||0,pitch:r.pitch||0,bearing:r.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const i=new this._MapClass(o);r.padding&&i.setPadding(r.padding),t.cursor&&(i.getCanvas().style.cursor=t.cursor),this._createShadowTransform(i);const a=i._render;i._render=e=>{this._inRender=!0,a.call(i,e),this._inRender=!1};const l=i._renderTaskQueue.run;i._renderTaskQueue.run=e=>{l.call(i._renderTaskQueue,e),this._onBeforeRepaint()},i.on("render",(()=>this._onAfterRepaint()));const d=i.fire;i.fire=this._fireEvent.bind(this,d),i.on("resize",(()=>{this._renderTransform.resize(i.transform.width,i.transform.height)})),i.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),s(i.transform,this._renderTransform)})),i.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const s in p)i.on(s,this._onPointerEvent);for(const s in h)i.on(s,this._onCameraEvent);for(const s in m)i.on(s,this._onEvent);this._map=i}recycle(){const e=this.map.getContainer().querySelector("[mapboxgl-children]");null==e||e.remove(),v.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const n=this._map,o=this._renderTransform,{zoom:r,pitch:i,bearing:s}=o,d=n.isMoving();d&&(o.cameraElevationReference="sea");const c=l(o,{...a(n.transform),...e});if(d&&(o.cameraElevationReference="ground"),c&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=r!==o.zoom),e.rotate||(e.rotate=s!==o.bearing),e.pitch||(e.pitch=i!==o.pitch)}return d||l(n.transform,e),c}_updateSettings(e,t){const n=this._map;let o=!1;for(const r of f)if(r in e&&!(0,i.b)(e[r],t[r])){o=!0;const t=n[`set${r[0].toUpperCase()}${r.slice(1)}`];null==t||t.call(n,e[r])}return o}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){const{mapStyle:t=u,styleDiffing:n=!0}=e,o={diff:n};return"localIdeographFontFamily"in e&&(o.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(c(t),o),!0}return!1}_updateStyleComponents(e,t){const n=this._map;let o=!1;return n.isStyleLoaded()&&("light"in e&&n.setLight&&!(0,i.b)(e.light,t.light)&&(o=!0,n.setLight(e.light)),"fog"in e&&n.setFog&&!(0,i.b)(e.fog,t.fog)&&(o=!0,n.setFog(e.fog)),"terrain"in e&&n.setTerrain&&!(0,i.b)(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(o=!0,n.setTerrain(e.terrain)))),o}_updateHandlers(e,t){var n,o;const r=this._map;let s=!1;for(const a of g){const l=null===(n=e[a])||void 0===n||n,d=null===(o=t[a])||void 0===o||o;(0,i.b)(l,d)||(s=!0,l?r[a].enable(l):r[a].disable())}return s}_queryRenderedFeatures(e){const t=this._map,n=t.transform,{interactiveLayerIds:o=[]}=this.props;try{return t.transform=this._renderTransform,t.queryRenderedFeatures(e,{layers:o.filter(t.getLayer.bind(t))})}catch(r){return[]}finally{t.transform=n}}_updateHover(e){var t;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const n=e.type,o=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0,r=this._queryRenderedFeatures(e.point),i=r.length>0;!i&&o&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=r,i&&!o&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=n}else this._hoveredFeatures=null}_fireEvent(e,t,n){const o=this._map,r=o.transform,i="string"==typeof t?t:t.type;return"move"===i&&this._updateViewState(this.props,!1),i in h&&("object"==typeof t&&(t.viewState=a(r)),this._map.isMoving())?(o.transform=this._renderTransform,e.call(o,t,n),o.transform=r,o):(e.call(o,t,n),o)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&e.fire(n);this._internalUpdate=!1;const t=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{s(this._renderTransform,t),e.transform=t}}}function _(){let e=null;if("undefined"!=typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||"pk.eyJ1IjoidWNmLW1hcGJveCIsImEiOiJja2tyNHQzdnIzYmNnMndwZGI3djNzdjVyIn0.xgCXV9mLZ47q7easx6WLCQ"}catch(t){}try{e=e||process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(n){}return e}v.savedMaps=[];const y=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function b(e){if(!e)return null;const t=e.map,n={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>{const o=t.transform;t.transform=e.transform;const r=t.project(n);return t.transform=o,r},unproject:n=>{const o=t.transform;t.transform=e.transform;const r=t.unproject(n);return t.transform=o,r},queryTerrainElevation:(n,o)=>{const r=t.transform;t.transform=e.transform;const i=t.queryTerrainElevation(n,o);return t.transform=r,i},queryRenderedFeatures:(n,o)=>{const r=t.transform;t.transform=e.transform;const i=t.queryRenderedFeatures(n,o);return t.transform=r,i}};for(const o of function(e){const t=new Set;let n=e;for(;n;){for(const o of Object.getOwnPropertyNames(n))"_"!==o[0]&&"function"==typeof e[o]&&"fire"!==o&&"setEventedParent"!==o&&t.add(o);n=Object.getPrototypeOf(n)}return Array.from(t)}(t))o in n||y.includes(o)||(n[o]=t[o].bind(t));return n}const w="undefined"!=typeof document?o.useLayoutEffect:o.useEffect,E=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const L=o.createContext(null);function C(e,t,n){const i=(0,o.useContext)(r.P0),[s,a]=(0,o.useState)(null),l=(0,o.useRef)(),{current:d}=(0,o.useRef)({mapLib:null,map:null});(0,o.useEffect)((()=>{const t=e.mapLib;let o,r=!0;return Promise.resolve(t||n).then((t=>{if(!r)return;if(!t)throw new Error("Invalid mapLib");const n="Map"in t?t:t.default;if(!n.Map)throw new Error("Invalid mapLib");if(function(e,t){for(const o of E)o in t&&(e[o]=t[o]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;n&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(n,(e=>{e&&console.error(e)}),!0)}(n,e),n.supported&&!n.supported(e))throw new Error("Map is not supported by this browser");e.reuseMaps&&(o=v.reuse(e,l.current)),o||(o=new v(n.Map,e,l.current)),d.map=b(o),d.mapLib=n,a(o),null==i||i.onMapMount(d.map,e.id)})).catch((t=>{const{onError:n}=e;n?n({type:"error",target:null,originalEvent:null,error:t}):console.error(t)})),()=>{r=!1,o&&(null==i||i.onMapUnmount(e.id),e.reuseMaps?o.recycle():o.destroy())}}),[]),w((()=>{s&&s.setProps(e)})),(0,o.useImperativeHandle)(t,(()=>d.map),[s]);const c=(0,o.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...e.style})),[e.style]);return o.createElement("div",{id:e.id,ref:l,style:c},s&&o.createElement(L.Provider,{value:d},o.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},e.children)))}},1237:(e,t,n)=>{var o=n(6540),r=n(961),i=n(6682),s=n(1313),a=n(65);(0,o.memo)((0,o.forwardRef)((function(e,t){const{map:n,mapLib:l}=(0,o.useContext)(s.w),d=(0,o.useRef)({props:e});d.current.props=e;const c=(0,o.useMemo)((()=>{let t=!1;o.Children.forEach(e.children,(e=>{e&&(t=!0)}));const n={...e,element:t?document.createElement("div"):null},r=new l.Marker(n);return r.setLngLat([e.longitude,e.latitude]),r.getElement().addEventListener("click",(e=>{var t,n;null===(n=(t=d.current.props).onClick)||void 0===n||n.call(t,{type:"click",target:r,originalEvent:e})})),r.on("dragstart",(e=>{var t,n;const o=e;o.lngLat=c.getLngLat(),null===(n=(t=d.current.props).onDragStart)||void 0===n||n.call(t,o)})),r.on("drag",(e=>{var t,n;const o=e;o.lngLat=c.getLngLat(),null===(n=(t=d.current.props).onDrag)||void 0===n||n.call(t,o)})),r.on("dragend",(e=>{var t,n;const o=e;o.lngLat=c.getLngLat(),null===(n=(t=d.current.props).onDragEnd)||void 0===n||n.call(t,o)})),r}),[]);(0,o.useEffect)((()=>(c.addTo(n.getMap()),()=>{c.remove()})),[]);const{longitude:u,latitude:p,offset:h,style:m,draggable:f=!1,popup:g=null,rotation:v=0,rotationAlignment:_="auto",pitchAlignment:y="auto"}=e;return(0,o.useEffect)((()=>{(0,i.R)(c.getElement(),m)}),[m]),(0,o.useImperativeHandle)(t,(()=>c),[]),c.getLngLat().lng===u&&c.getLngLat().lat===p||c.setLngLat([u,p]),h&&!(0,a.K)(c.getOffset(),h)&&c.setOffset(h),c.isDraggable()!==f&&c.setDraggable(f),c.getRotation()!==v&&c.setRotation(v),c.getRotationAlignment()!==_&&c.setRotationAlignment(_),c.getPitchAlignment()!==y&&c.setPitchAlignment(y),c.getPopup()!==g&&c.setPopup(g),(0,r.createPortal)(e.children,c.getElement())})))},2649:(e,t,n)=>{var o=n(6540),r=n(6682),i=n(6668);(0,o.memo)((function(e){const t=(0,i.A)((({mapLib:t})=>new t.NavigationControl(e)),{position:e.position});return(0,o.useEffect)((()=>{(0,r.R)(t._container,e.style)}),[e.style]),null}))},5173:(e,t,n)=>{var o=n(961),r=n(6540),i=n(6682),s=n(1313),a=n(65);function l(e){return new Set(e?e.trim().split(/\s+/):[])}(0,r.memo)((0,r.forwardRef)((function(e,t){const{map:n,mapLib:d}=(0,r.useContext)(s.w),c=(0,r.useMemo)((()=>document.createElement("div")),[]),u=(0,r.useRef)({props:e});u.current.props=e;const p=(0,r.useMemo)((()=>{const t={...e},n=new d.Popup(t);return n.setLngLat([e.longitude,e.latitude]),n.once("open",(e=>{var t,n;null===(n=(t=u.current.props).onOpen)||void 0===n||n.call(t,e)})),n}),[]);if((0,r.useEffect)((()=>{const e=e=>{var t,n;null===(n=(t=u.current.props).onClose)||void 0===n||n.call(t,e)};return p.on("close",e),p.setDOMContent(c).addTo(n.getMap()),()=>{p.off("close",e),p.isOpen()&&p.remove()}}),[]),(0,r.useEffect)((()=>{(0,i.R)(p.getElement(),e.style)}),[e.style]),(0,r.useImperativeHandle)(t,(()=>p),[]),p.isOpen()&&(p.getLngLat().lng===e.longitude&&p.getLngLat().lat===e.latitude||p.setLngLat([e.longitude,e.latitude]),e.offset&&!(0,a.b)(p.options.offset,e.offset)&&p.setOffset(e.offset),p.options.anchor===e.anchor&&p.options.maxWidth===e.maxWidth||(p.options.anchor=e.anchor,p.setMaxWidth(e.maxWidth)),p.options.className!==e.className)){const t=l(p.options.className),n=l(e.className);for(const e of t)n.has(e)||p.removeClassName(e);for(const e of n)t.has(e)||p.addClassName(e);p.options.className=e.className}return(0,o.createPortal)(e.children,c)})))},5761:(e,t,n)=>{var o=n(6540),r=n(6682),i=n(6668);(0,o.memo)((function(e){const t=(0,i.A)((({mapLib:t})=>new t.ScaleControl(e)),{position:e.position}),n=(0,o.useRef)(e),s=n.current;n.current=e;const{style:a}=e;return void 0!==e.maxWidth&&e.maxWidth!==s.maxWidth&&(t.options.maxWidth=e.maxWidth),void 0!==e.unit&&e.unit!==s.unit&&t.setUnit(e.unit),(0,o.useEffect)((()=>{(0,r.R)(t._container,a)}),[a]),null}))},3158:(e,t,n)=>{n(6540),n(1313)},6668:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(6540),r=n(1313);const i=function(e,t,n,i){const s=(0,o.useContext)(r.w),a=(0,o.useMemo)((()=>e(s)),[]);return(0,o.useEffect)((()=>{const e=i||n||t,o="function"==typeof t&&"function"==typeof n?t:null,r="function"==typeof n?n:"function"==typeof t?t:null,{map:l}=s;return l.hasControl(a)||(l.addControl(a,null==e?void 0:e.position),o&&o(s)),()=>{r&&r(s),l.hasControl(a)&&l.removeControl(a)}}),[]),a}},1995:(e,t,n)=>{n.d(t,{P0:()=>r});var o=n(6540);n(1313);const r=o.createContext(null)},6682:(e,t,n)=>{n.d(t,{R:()=>r});const o=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function r(e,t){if(!e||!t)return;const n=e.style;for(const r in t){const e=t[r];Number.isFinite(e)&&!o.test(r)?n[r]=`${e}px`:n[r]=e}}},65:(e,t,n)=>{function o(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0,r=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0;return n===r&&o===i}function r(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(const i of n){if(!t.hasOwnProperty(i))return!1;if(!r(e[i],t[i]))return!1}return!0}return!1}n.d(t,{K:()=>o,b:()=>r})},9460:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(1660),r=n(8411),i=n(6820),s=n(7870),a=n(8086),l=n(8469),d=n(5110),c=n(3986);const u=[0,0,0,255],p={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:e=>e.polygon},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:u},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class h extends r.A{initializeState(){this.state={paths:[]},this.props.getLineDashArray&&i.A.removed("getLineDashArray","PathStyleExtension")()}updateState({changeFlags:e}){const t=e.dataChanged||e.updateTriggersChanged&&(e.updateTriggersChanged.all||e.updateTriggersChanged.getPolygon);if(t&&Array.isArray(e.dataChanged)){const t=this.state.paths.slice(),n=e.dataChanged.map((e=>(0,c.J)({data:t,getIndex:e=>e.__source.index,dataRange:e,replace:this._getPaths(e)})));this.setState({paths:t,pathsDiff:n})}else t&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(e={}){const{data:t,getPolygon:n,positionFormat:o,_normalize:r}=this.props,i=[],a="XY"===o?2:3,{startRow:l,endRow:c}=e,{iterable:u,objectInfo:p}=(0,s.X)(t,l,c);for(const s of u){p.index++;let e=n(s,p);r&&(e=d.S8(e,a));const{holeIndices:t}=e,o=e.positions||e;if(t)for(let n=0;n<=t.length;n++){const e=o.slice(t[n-1]||0,t[n]||o.length);i.push(this.getSubLayerRow({path:e},s,p.index))}else i.push(this.getSubLayerRow({path:o},s,p.index))}return i}renderLayers(){const{data:e,_dataDiff:t,stroked:n,filled:o,extruded:r,wireframe:i,_normalize:s,_windingOrder:d,elevationScale:c,transitions:p,positionFormat:h}=this.props,{lineWidthUnits:m,lineWidthScale:f,lineWidthMinPixels:g,lineWidthMaxPixels:v,lineJointRounded:_,lineMiterLimit:y,lineDashJustified:b}=this.props,{getFillColor:w,getLineColor:E,getLineWidth:L,getLineDashArray:C,getElevation:x,getPolygon:M,updateTriggers:S,material:k}=this.props,{paths:P,pathsDiff:A}=this.state,R=this.getSubLayerClass("fill",a.A),z=this.getSubLayerClass("stroke",l.A),T=this.shouldRenderSubLayer("fill",P)&&new R({_dataDiff:t,extruded:r,elevationScale:c,filled:o,wireframe:i,_normalize:s,_windingOrder:d,getElevation:x,getFillColor:w,getLineColor:r&&i?E:u,material:k,transitions:p},this.getSubLayerProps({id:"fill",updateTriggers:S&&{getPolygon:S.getPolygon,getElevation:S.getElevation,getFillColor:S.getFillColor,lineColors:r&&i,getLineColor:S.getLineColor}}),{data:e,positionFormat:h,getPolygon:M});return[!r&&T,!r&&n&&this.shouldRenderSubLayer("stroke",P)&&new z({_dataDiff:A&&(()=>A),widthUnits:m,widthScale:f,widthMinPixels:g,widthMaxPixels:v,jointRounded:_,miterLimit:y,dashJustified:b,_pathType:"loop",transitions:p&&{getWidth:p.getLineWidth,getColor:p.getLineColor,getPath:p.getPolygon},getColor:this.getSubLayerAccessor(E),getWidth:this.getSubLayerAccessor(L),getDashArray:this.getSubLayerAccessor(C)},this.getSubLayerProps({id:"stroke",updateTriggers:S&&{getWidth:S.getLineWidth,getColor:S.getLineColor,getDashArray:S.getLineDashArray}}),{data:P,positionFormat:h,getPath:e=>e.path}),r&&T]}}(0,o.A)(h,"layerName","PolygonLayer"),(0,o.A)(h,"defaultProps",p)},1460:(e,t,n)=>{n.d(t,{A:()=>E});var o=n(1660),r=n(7367),i=n(898),s=n(5133),a=n(2125),l=n(3716),d=n(3276);const c=512,u=Math.PI/180;function p({map:e,gl:t,deck:n}){if(e.__deck)return e.__deck;const o=null==n?void 0:n.props._customRender,i=null==n?void 0:n.props.onLoad,s=f({...null==n?void 0:n.props,_customRender:()=>{e.triggerRepaint(),null==o||o("")}});let a;return n&&n.props.gl!==t||(Object.assign(s,{gl:t,width:null,height:null,touchAction:"unset",viewState:g(e)}),null!=n&&n.isInitialized?h(n,e):s.onLoad=()=>{null==i||i(),h(a,e)}),n?(a=n,n.setProps(s),n.userData.isExternal=!0):(a=new r.A(s),e.on("remove",(()=>{m(e)}))),a.userData.mapboxLayers=new Set,e.__deck=a,e.on("render",(()=>{a.isInitialized&&function(e,t){const{mapboxLayers:n,isExternal:o}=e.userData;if(o){const o=Array.from(n,(e=>e.id)),r=(0,l.B)(e.props.layers,Boolean).some((e=>e&&!o.includes(e.id)));let i=e.getViewports();const s=i.findIndex((e=>"mapbox"===e.id)),a=i.length>1||s<0;(r||a)&&(s>=0&&(i=i.slice(),i[s]=v(e,t,!1)),e._drawLayers("mapbox-repaint",{viewports:i,layerFilter:t=>(!e.props.layerFilter||e.props.layerFilter(t))&&("mapbox"!==t.viewport.id||!o.includes(t.layer.id)),clearCanvas:!1}))}e.userData.currentViewport=null}(a,e)})),a}function h(e,t){const n=()=>{e.isInitialized?function(e,t){e.setProps({viewState:g(t)}),e.needsRedraw({clearRedrawFlags:!0})}(e,t):t.off("move",n)};t.on("move",n)}function m(e){var t;null===(t=e.__deck)||void 0===t||t.finalize(),e.__deck=null}function f(e){return{...e,parameters:{depthMask:!0,depthTest:!0,blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthFunc:515,blendEquation:32774,...e.parameters},views:e.views||[new s.A({id:"mapbox"})]}}function g(e){var t;const{lng:n,lat:o}=e.getCenter(),r={longitude:(n+540)%360-180,latitude:o,zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch(),padding:e.getPadding(),repeat:e.getRenderWorldCopies()};return null!==(t=e.getTerrain)&&void 0!==t&&t.call(e)&&function(e,t){if(e.getFreeCameraOptions){const{position:n}=e.getFreeCameraOptions();if(!n||void 0===n.z)return;const o=e.transform.height,{longitude:r,latitude:i,pitch:s}=t,a=n.x*c,l=(1-n.y)*c,p=n.z*c,h=(0,d.Gw)([r,i]),m=a-h[0],f=l-h[1],g=Math.sqrt(m*m+f*f),v=s*u,_=1.5*o,y=v<.001?_*Math.cos(v)/p:_*Math.sin(v)/g;t.zoom=Math.log2(y);const b=p-_*Math.cos(v)/y;t.position=[0,0,b/(0,d.mY)(i)]}else"number"==typeof e.transform.elevation&&(t.position=[0,0,e.transform.elevation])}(e,r),r}function v(e,t,n=!0){return new a.A({id:"mapbox",x:0,y:0,width:e.width,height:e.height,...g(t),nearZMultiplier:n?.02:.1,nearZ:t.transform._nearZ/t.transform.height,farZ:t.transform._farZ/t.transform.height})}function _(e){if(e.userData.isExternal)return;const t=[];e.userData.mapboxLayers.forEach((e=>{const n=new(0,e.props.type)(e.props);t.push(n)})),e.setProps({layers:t})}class y{constructor(e){if((0,o.A)(this,"id",void 0),(0,o.A)(this,"type",void 0),(0,o.A)(this,"renderingMode",void 0),(0,o.A)(this,"map",void 0),(0,o.A)(this,"deck",void 0),(0,o.A)(this,"props",void 0),!e.id)throw new Error("Layer must have an unique id");this.id=e.id,this.type="custom",this.renderingMode=e.renderingMode||"3d",this.map=null,this.deck=null,this.props=e}onAdd(e,t){var n,o;this.map=e,this.deck=p({map:e,gl:t,deck:this.props.deck}),n=this.deck,o=this,n.userData.mapboxLayers.add(o),_(n)}onRemove(){var e,t;this.deck&&(e=this.deck,t=this,e.userData.mapboxLayers.delete(t),_(e))}setProps(e){Object.assign(this.props,e,{id:this.id}),this.deck&&_(this.deck)}render(){!function(e,t,n){let{currentViewport:o}=e.userData,r=!1;o||(o=v(e,t,!0),e.userData.currentViewport=o,r=!0),e.isInitialized&&e._drawLayers("mapbox-repaint",{viewports:[o],layerFilter:({layer:e})=>n.id===e.id||e.props.operation.includes("terrain"),clearStack:r,clearCanvas:!1})}(this.deck,this.map,this)}}const b="__UNDEFINED__";function w(e,t,n,o){if(!(e&&t&&e.style&&e.style._loaded))return;const r=(0,l.B)(o,Boolean);if(n!==o){const t=(0,l.B)(n,Boolean),o=new Set(t.map((e=>e.id)));for(const e of r)o.delete(e.id);for(const n of o)e.getLayer(n)&&e.removeLayer(n)}for(const a of r){const n=e.getLayer(a.id);n?n.implementation.setProps(a.props):e.addLayer(new y({id:a.id,deck:t}),a.props.beforeId)}const i=e.style._order,s={};for(const a of r){let{beforeId:e}=a.props;e&&i.includes(e)||(e=b),s[e]=s[e]||[],s[e].push(a.id)}for(const a in s){const t=s[a];let n=a===b?i.length:i.indexOf(a),o=a===b?void 0:a;for(let r=t.length-1;r>=0;r--){const s=t[r],a=i.indexOf(s);a!==n-1&&(e.moveLayer(s,o),a>n&&n++),n--,o=s}}}class E{constructor(e){(0,o.A)(this,"_props",void 0),(0,o.A)(this,"_deck",void 0),(0,o.A)(this,"_map",void 0),(0,o.A)(this,"_container",void 0),(0,o.A)(this,"_interleaved",void 0),(0,o.A)(this,"_lastMouseDownPoint",void 0),(0,o.A)(this,"_handleStyleChange",(()=>{w(this._map,this._deck,this._props.layers,this._props.layers)})),(0,o.A)(this,"_updateContainerSize",(()=>{if(this._map&&this._container){const{clientWidth:e,clientHeight:t}=this._map.getContainer();Object.assign(this._container.style,{width:"".concat(e,"px"),height:"".concat(t,"px")})}})),(0,o.A)(this,"_updateViewState",(()=>{const e=this._deck;e&&(e.setProps({viewState:g(this._map)}),e.isInitialized&&e.redraw())})),(0,o.A)(this,"_handleMouseEvent",(e=>{const t=this._deck;if(!t||!t.isInitialized)return;const n={type:e.type,offsetCenter:e.point,srcEvent:e},o=this._lastMouseDownPoint;switch(!e.point&&o&&(n.deltaX=e.originalEvent.clientX-o.clientX,n.deltaY=e.originalEvent.clientY-o.clientY,n.offsetCenter={x:o.x+n.deltaX,y:o.y+n.deltaY}),n.type){case"mousedown":t._onPointerDown(n),this._lastMouseDownPoint={...e.point,clientX:e.originalEvent.clientX,clientY:e.originalEvent.clientY};break;case"dragstart":n.type="panstart",t._onEvent(n);break;case"drag":n.type="panmove",t._onEvent(n);break;case"dragend":n.type="panend",t._onEvent(n);break;case"click":n.tapCount=1,t._onEvent(n);break;case"dblclick":n.type="click",n.tapCount=2,t._onEvent(n);break;case"mousemove":n.type="pointermove",t._onPointerMove(n);break;case"mouseout":n.type="pointerleave",t._onPointerMove(n);break;default:return}}));const{interleaved:t=!1,...n}=e;this._interleaved=t,this._props=n}setProps(e){this._interleaved&&e.layers&&w(this._map,this._deck,this._props.layers,e.layers),Object.assign(this._props,e),this._deck&&this._deck.setProps(this._interleaved?f(this._props):this._props)}onAdd(e){return this._map=e,this._interleaved?this._onAddInterleaved(e):this._onAddOverlaid(e)}_onAddOverlaid(e){const t=document.createElement("div");return Object.assign(t.style,{position:"absolute",left:0,top:0,textAlign:"initial",pointerEvents:"none"}),this._container=t,this._deck=new r.A({...this._props,parent:t,viewState:g(e)}),e.on("resize",this._updateContainerSize),e.on("render",this._updateViewState),e.on("mousedown",this._handleMouseEvent),e.on("dragstart",this._handleMouseEvent),e.on("drag",this._handleMouseEvent),e.on("dragend",this._handleMouseEvent),e.on("mousemove",this._handleMouseEvent),e.on("mouseout",this._handleMouseEvent),e.on("click",this._handleMouseEvent),e.on("dblclick",this._handleMouseEvent),this._updateContainerSize(),t}_onAddInterleaved(e){return this._deck=p({map:e,gl:e.painter.context.gl,deck:new r.A({...this._props,gl:e.painter.context.gl})}),e.on("styledata",this._handleStyleChange),w(e,this._deck,[],this._props.layers),document.createElement("div")}onRemove(){const e=this._map;e&&(this._interleaved?this._onRemoveInterleaved(e):this._onRemoveOverlaid(e)),this._deck=void 0,this._map=void 0,this._container=void 0}_onRemoveOverlaid(e){var t;e.off("resize",this._updateContainerSize),e.off("render",this._updateViewState),e.off("mousedown",this._handleMouseEvent),e.off("dragstart",this._handleMouseEvent),e.off("drag",this._handleMouseEvent),e.off("dragend",this._handleMouseEvent),e.off("mousemove",this._handleMouseEvent),e.off("mouseout",this._handleMouseEvent),e.off("click",this._handleMouseEvent),e.off("dblclick",this._handleMouseEvent),null===(t=this._deck)||void 0===t||t.finalize()}_onRemoveInterleaved(e){e.off("styledata",this._handleStyleChange),w(e,this._deck,this._props.layers,[]),m(e)}getDefaultPosition(){return"top-left"}pickObject(e){return(0,i.A)(this._deck),this._deck.pickObject(e)}pickMultipleObjects(e){return(0,i.A)(this._deck),this._deck.pickMultipleObjects(e)}pickObjects(e){return(0,i.A)(this._deck),this._deck.pickObjects(e)}finalize(){this._map&&this._map.removeControl(this)}getCanvas(){return this._map?this._interleaved?this._map.getCanvas():this._deck.getCanvas():null}}}}]);